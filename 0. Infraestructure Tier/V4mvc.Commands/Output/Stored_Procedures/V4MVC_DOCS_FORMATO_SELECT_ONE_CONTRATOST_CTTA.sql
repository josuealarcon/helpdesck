CREATE PROCEDURE [dbo].[V4MVC_DOCS_FORMATO_SELECT_ONE_CONTRATOST_CTTA]   
(
  @INDEX			INT
 ,@EXTENSION		NVARCHAR(10)
 ,@EXISTE_QUERY		INT OUTPUT
) AS           
BEGIN
	DECLARE @ID_DOC	  INT = -1
	IF(@INDEX = 1)
		BEGIN
			SELECT
				TOP 1
				@ID_DOC = VALOR1
			FROM PARAMETROS_V2
			WHERE TITULO1 = 'DOC1'
		END
	ELSE IF(@INDEX = 2)
		BEGIN
			SELECT
				TOP 1
				@ID_DOC = VALOR2
			FROM PARAMETROS_V2
			WHERE TITULO2 = 'DOC2'
		END
	SET @EXISTE_QUERY = 0 
	IF(EXISTS(
		SELECT
			DOCS_EXT.ID_DOC_EXT
		FROM DOCS_FORMATO, DOCS_EXT
		WHERE
			(DOCS_FORMATO.ID_DOC = @ID_DOC) AND
			(DOCS_EXT.EXTENSION = @EXTENSION) AND
			(DOCS_FORMATO.ID_DOC_EXT = DOCS_EXT.ID_DOC_EXT)
	))
		BEGIN
			SET @EXISTE_QUERY = 1
		END
END
