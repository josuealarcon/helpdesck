CREATE PROCEDURE [dbo].[V4MVC_TAB_TIPOCONTRATO_SELECT_DOCUMENTACION_CTTA]
(@RUT		NVARCHAR(10) = NULL
,@DIVCOD	NVARCHAR(4) = NULL
,@IDEMPRESA	NVARCHAR(10)= NULL) AS
BEGIN

	SELECT TC.TIPOCONTRATO AS TipoContrato
		 , TC.DESCRIPCION AS Descripcion
		 , CASE WHEN WC.TIPOCONTRATO IS NULL THEN 'false' ELSE 'true' END AS CHECKED
	FROM TAB_TIPOCONTRATO  AS TC
	LEFT JOIN WORKERSLOCAL AS WC ON WC.TIPOCONTRATO = TC.TIPOCONTRATO 
								AND (WC.DIVISION = @DIVCOD) 
								AND (WC.RUT = @RUT) 
								AND (WC.TIPOCONTRATO IS NOT NULL) 
								AND (WC.EMPRESA = @IDEMPRESA)
	WHERE (TC.ACTIVO = 'SI') 
	ORDER BY TC.DESCRIPCION
END

